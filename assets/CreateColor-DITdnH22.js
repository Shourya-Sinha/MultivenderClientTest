import{r as h,R as c,j as b,B,S as y,T as k,C as R,d as F,e as $}from"./index-BixFw_h0.js";function f(e,t){return Array.isArray(e)?e.includes(t):e}var A=e=>{let t=e.getBoundingClientRect();return{width:t.width,height:t.height}};function N(){let e=h.useRef(null),[t,r]=h.useState({width:1,height:1});h.useLayoutEffect(()=>{let a=()=>{e.current&&r(A(e.current))},n=([{contentBoxSize:o}])=>{r({height:o[0].blockSize,width:o[0].inlineSize})};window.addEventListener("resize",a,!1);let s=new ResizeObserver(n);return e.current&&s.observe(e.current),()=>{window.removeEventListener("resize",a,!1),s.disconnect()}},[]);let l=h.useCallback(()=>{var d;let{left:a=1,right:n=1,top:s=1,bottom:o=1}=((d=e.current)==null?void 0:d.getBoundingClientRect())??{};return{left:a,right:n,top:s,bottom:o}},[]);return[e,t,l]}function E(e,t,r){return e<t?t:e>r?r:e}var H=class{convert(e,t){let r=this.toHex("#000000"),l=this.hex2rgb(r),a=this.rgb2hsv(l);if(e==="hex"){let n=t;r=this.toHex(n),l=this.hex2rgb(r),r.startsWith("rgba")&&(l=this.toRgb(r),r=this.rgb2hex(l)),a=this.rgb2hsv(l)}else e==="rgb"?(l=t,r=this.rgb2hex(l),a=this.rgb2hsv(l)):e==="hsv"&&(a=t,l=this.hsv2rgb(a),r=this.rgb2hex(l));return{hex:r,rgb:l,hsv:a}}toHex(e){if(e.startsWith("#")){if(e.length===4||e.length===5)return e=e.split("").map((t,r)=>r?r<4?t+t:t==="f"?void 0:t+t:"#").join(""),e;if(e.length===7)return e;if(e.length===9)return e.endsWith("ff")?e.slice(0,7):e}else{let t=document.createElement("canvas").getContext("2d");if(!t)throw new Error("2d context not supported or canvas already initialized");return t.fillStyle=e,t.fillStyle}return"#000000"}toRgb(e){let t=e.match(/\d+(\.\d+)?/gu)??[],[r,l,a,n]=Array.from({length:4}).map((s,o)=>E(+(t[o]??(o<3?0:1)),0,o<3?255:1));return{r,g:l,b:a,a:n}}toHsv(e){let t=e.match(/\d+(\.\d+)?/gu)??[],[r,l,a,n]=Array.from({length:4}).map((s,o)=>E(+(t[o]??(o<3?0:1)),0,o?o<3?100:1:360));return{h:r,s:l,v:a,a:n}}hex2rgb(e){e=e.slice(1);let[t,r,l,a]=Array.from({length:4}).map((n,s)=>parseInt(e.slice(s*2,s*2+2),16));return a=Number.isNaN(a)?1:a/255,{r:t,g:r,b:l,a}}rgb2hsv({r:e,g:t,b:r,a:l}){e/=255,t/=255,r/=255;let a=Math.max(e,t,r),n=a-Math.min(e,t,r),s=n?(a===e?(t-r)/n+(t<r?6:0):a===t?2+(r-e)/n:4+(e-t)/n)*60:0,o=a?n/a*100:0,d=a*100;return{h:s,s:o,v:d,a:l}}hsv2rgb({h:e,s:t,v:r,a:l}){t/=100,r/=100;let a=~~(e/60),n=e/60-a,s=r*(1-t),o=r*(1-t*n),d=r*(1-t*(1-n)),g=a%6,i=[r,o,s,s,d,r][g]*255,v=[d,r,r,o,s,s][g]*255,u=[s,s,d,r,r,o][g]*255;return{r:i,g:v,b:u,a:l}}rgb2hex({r:e,g:t,b:r,a:l}){let[a,n,s,o]=[e,t,r,l].map((d,g)=>Math.round(g<3?d:d*255).toString(16).padStart(2,"0"));return["#",a,n,s,o==="ff"?void 0:o].join("")}},m=new H;function x(e){return"touches"in e}var j=h.memo(({onCoordinateChange:e,children:t,disabled:r})=>{let[l,{width:a,height:n},s]=N(),o=h.useCallback((g,i=!1)=>{let{left:v,top:u}=s(),p=E(g.clientX-v,0,a),C=E(g.clientY-u,0,n);e(i,p,C)},[a,n,s,e]),d=h.useCallback(g=>{if(!x(g)&&g.button!==0)return;let i=u=>{o(x(u)?u.touches[0]:u)},v=u=>{o(x(u)?u.changedTouches[0]:u,!0),document.removeEventListener(x(u)?"touchmove":"mousemove",i,!1),document.removeEventListener(x(u)?"touchend":"mouseup",v,!1)};i(g),document.addEventListener(x(g)?"touchmove":"mousemove",i,!1),document.addEventListener(x(g)?"touchend":"mouseup",v,!1)},[o]);return c.createElement("div",{ref:l,className:"rcp-interactive",onMouseDown:d,onTouchStart:d,"aria-disabled":r},t)}),I=h.memo(({color:e,disabled:t,onChange:r,onChangeComplete:l})=>{let[a,{width:n}]=N(),s=h.useMemo(()=>({x:e.hsv.a*n}),[e.hsv.a,n]),o=h.useCallback((i,v)=>{let u=m.convert("hsv",{...e.hsv,a:v/n});r(u),i&&(l==null||l(u))},[e.hsv,n,r,l]),d=h.useMemo(()=>[e.rgb.r,e.rgb.g,e.rgb.b].join(" "),[e.rgb.r,e.rgb.g,e.rgb.b]),g=h.useMemo(()=>[d,e.rgb.a].join(" / "),[d,e.rgb.a]);return c.createElement(j,{disabled:t,onCoordinateChange:o},c.createElement("div",{ref:a,style:{background:`linear-gradient(to right, rgb(${d} / 0), rgb(${d} / 1)) top left / auto auto,
                      conic-gradient(#666 0.25turn, #999 0.25turn 0.5turn, #666 0.5turn 0.75turn, #999 0.75turn) top left / 12px 12px
                      repeat`},className:"rcp-alpha"},c.createElement("div",{style:{left:s.x,background:`linear-gradient(to right, rgb(${g}), rgb(${g})) top left / auto auto,
                        conic-gradient(#666 0.25turn, #999 0.25turn 0.5turn, #666 0.5turn 0.75turn, #999 0.75turn) ${-s.x-4}px 2px / 12px 12px
                        repeat`},className:"rcp-alpha-cursor"})))});function S(e,t){return Math.round(e*10**t)/10**t}function w({r:e,g:t,b:r,a:l}){let a=[Math.round(e),Math.round(t),Math.round(r)],n=S(l,3);return n<1&&a.push(n),a.join(", ")}function M({h:e,s:t,v:r,a:l}){let a=[`${Math.round(e)}Â°`,`${Math.round(t)}%`,`${Math.round(r)}%`],n=S(l,3);return n<1&&a.push(n),a.join(", ")}var z=h.memo(({hideInput:e,color:t,disabled:r,onChange:l,onChangeComplete:a})=>{let[n,s]=h.useState({hex:{value:t.hex,inputted:!1},rgb:{value:w(t.rgb),inputted:!1},hsv:{value:M(t.hsv),inputted:!1}});h.useEffect(()=>{n.hex.inputted||s(i=>({...i,hex:{...i.hex,value:t.hex}}))},[n.hex.inputted,t.hex]),h.useEffect(()=>{n.rgb.inputted||s(i=>({...i,rgb:{...i.rgb,value:w(t.rgb)}}))},[n.rgb.inputted,t.rgb]),h.useEffect(()=>{n.hsv.inputted||s(i=>({...i,hsv:{...i.hsv,value:M(t.hsv)}}))},[n.hsv.inputted,t.hsv]);let o=h.useCallback(i=>v=>{let{value:u}=v.target;s(p=>({...p,[i]:{...p[i],value:u}})),l(i==="hsv"?m.convert("hsv",m.toHsv(u)):i==="rgb"?m.convert("rgb",m.toRgb(u)):m.convert("hex",u))},[l]),d=h.useCallback(i=>()=>{s(v=>({...v,[i]:{...v[i],inputted:!0}}))},[]),g=h.useCallback(i=>v=>{let{value:u}=v.target;s(p=>({...p,[i]:{...p[i],inputted:!1}})),a==null||a(i==="hsv"?m.convert("hsv",m.toHsv(u)):i==="rgb"?m.convert("rgb",m.toRgb(u)):m.convert("hex",u))},[a]);return c.createElement("div",{className:"rcp-fields"},!f(e,"hex")&&c.createElement("div",{className:"rcp-fields-floor"},c.createElement("div",{className:"rcp-field"},c.createElement("input",{id:"hex",className:"rcp-field-input",readOnly:r,value:n.hex.value,onChange:o("hex"),onFocus:d("hex"),onBlur:g("hex")}),c.createElement("label",{htmlFor:"hex",className:"rcp-field-label"},"HEX"))),(!f(e,"rgb")||!f(e,"hsv"))&&c.createElement("div",{className:"rcp-fields-floor"},!f(e,"rgb")&&c.createElement("div",{className:"rcp-field"},c.createElement("input",{id:"rgb",className:"rcp-field-input",readOnly:r,value:n.rgb.value,onChange:o("rgb"),onFocus:d("rgb"),onBlur:g("rgb")}),c.createElement("label",{htmlFor:"rgb",className:"rcp-field-label"},"RGB")),!f(e,"hsv")&&c.createElement("div",{className:"rcp-field"},c.createElement("input",{id:"hsv",className:"rcp-field-input",readOnly:r,value:n.hsv.value,onChange:o("hsv"),onFocus:d("hsv"),onBlur:g("hsv")}),c.createElement("label",{htmlFor:"hsv",className:"rcp-field-label"},"HSV"))))}),L=h.memo(({color:e,disabled:t,onChange:r,onChangeComplete:l})=>{let[a,{width:n}]=N(),s=h.useMemo(()=>({x:e.hsv.h/360*n}),[e.hsv.h,n]),o=h.useCallback((g,i)=>{let v=m.convert("hsv",{...e.hsv,h:i/n*360});r(v),g&&(l==null||l(v))},[e.hsv,n,r,l]),d=h.useMemo(()=>[e.hsv.h,"100%","50%"].join(" "),[e.hsv.h]);return c.createElement(j,{disabled:t,onCoordinateChange:o},c.createElement("div",{ref:a,className:"rcp-hue"},c.createElement("div",{style:{left:s.x,backgroundColor:`hsl(${d})`},className:"rcp-hue-cursor"})))}),T=h.memo(({height:e,color:t,disabled:r,onChange:l,onChangeComplete:a})=>{let[n,{width:s}]=N(),o=h.useMemo(()=>{let v=t.hsv.s/100*s,u=(100-t.hsv.v)/100*e;return{x:v,y:u}},[t.hsv.s,t.hsv.v,s,e]),d=h.useCallback((v,u,p)=>{let C=m.convert("hsv",{...t.hsv,s:u/s*100,v:100-p/e*100});l(C),v&&(a==null||a(C))},[t.hsv,s,e,l,a]),g=h.useMemo(()=>[t.hsv.h,"100%","50%"].join(" "),[t.hsv.h]),i=h.useMemo(()=>[t.rgb.r,t.rgb.g,t.rgb.b].join(" "),[t.rgb.r,t.rgb.g,t.rgb.b]);return c.createElement(j,{disabled:r,onCoordinateChange:d},c.createElement("div",{ref:n,style:{height:e,backgroundColor:`hsl(${g})`},className:"rcp-saturation"},c.createElement("div",{style:{left:o.x,top:o.y,backgroundColor:`rgb(${i})`},className:"rcp-saturation-cursor"})))}),O=h.memo(({height:e=200,hideAlpha:t=!1,hideInput:r=!1,color:l,disabled:a=!1,onChange:n,onChangeComplete:s})=>c.createElement("div",{className:"rcp-root rcp"},c.createElement(T,{height:e,color:l,disabled:a,onChange:n,onChangeComplete:s}),c.createElement("div",{className:"rcp-body"},c.createElement("section",{className:"rcp-section"},c.createElement(L,{color:l,disabled:a,onChange:n,onChangeComplete:s}),!t&&c.createElement(I,{color:l,disabled:a,onChange:n,onChangeComplete:s})),(!f(r,"hex")||!f(r,"rgb")||!f(r,"hsv"))&&c.createElement("section",{className:"rcp-section"},c.createElement(z,{hideInput:r,color:l,disabled:a,onChange:n,onChangeComplete:s})))));function X(e){let[t,r]=h.useState(m.convert("hex",e));return h.useEffect(()=>{r(m.convert("hex",e))},[e]),[t,r]}const W=()=>{const[e,t]=X("#561ecb");return b.jsx(b.Fragment,{children:b.jsxs(B,{sx:{width:"100%"},children:[b.jsx(y,{direction:"row",alignItems:"center",justifyContent:"center",children:b.jsx(k,{variant:"h6",children:"Create Color For Any Product"})}),b.jsxs(R,{sx:{mt:5},children:[b.jsx(k,{variant:"subtitle2",sx:{paddingY:1},children:"Select Any  Color"}),b.jsx(O,{color:e,onChange:t}),";",b.jsx(y,{mt:5,children:b.jsx(F,{placeholder:"Color Name",autoComplete:"off",required:!0})}),b.jsx(y,{spacing:2,mt:5,alignItems:"center",justifyContent:"center",children:b.jsx($,{sx:{backgroundColor:"#FB383B",color:"#fff",paddingY:2,paddingX:10,"&:hover":{backgroundColor:"#E30D17",color:"#fff"}},children:"Create Color"})})]})]})})};export{W as default};
